
项目持续进行中，2019年4月14日完成核心功能的编写，可以将其称之为0.1版本。

这个应用就叫LEAF
意思是Light Easy Agile File management system
即，【轻简灵的项目文档管理系统】
主要目的是解决跨团队协作中的文档管理和通知的难点。

简易部署指南（2019.4.21更新）：

1、首先确保你要部署的服务器已经安装了python3和Pip3，并且安装pipenv库：pip3 install pipenv

2、使用git clone命令或者将本项目zip压缩包直接下载到本地你指定的文件目录中，并解压。
3、解压后的项目文件件架构如下：
    （1）最外层是一个名为leaf的文件夹，这个文件夹我们称之为“项目根目录”，这份README.md文件和其他几个文件位于根目录中。
    （2）根目录中有一个名为leaf的同名文件夹和一个名为uploads的空文件夹(如果没有uploads，请自行创建)
    注意：项目根目录Leaf上一层如果还有文件夹，请不要与leaf同名，容易引起Bug

4、 在项目根目录中自行创建.env和.flaskenv两个文件：

.flaskenv 文件需要包含以下内容：(直接复制下面两行即可)
FLASK_APP="leaf"
FLASK_ENV="production"

.env 文件需要包含以下内容：（等号右边的内容需要你自己搞定）
SECRET_KEY = 你的secret_key，并用""括起来
SENDGRID_API_KEY = 因为leaf采用了SENDGRID的免费事务邮件服务，我推荐你也去进行免费注册，你将在注册成功后获得API_KEY，注册的具体流程请百度之
DB_URI_DEV ="mysql+pymysql://你的数据库用户名:你的mysql数据库密码@127.0.0.1:3306/leaf_dev?charset=utf8"
DB_URI_PRO ="mysql+pymysql://你的数据库用户名:你的mysql数据库密码@127.0.0.1:3306/leaf?charset=utf8"

5、自行创建与上述对应的mysql数据库，数据库名称你可以自行决定，例如一个叫leaf_dev（用于开发环境，普通用户可以不用创建），一个叫leaf（用于正式生产环境）

6、使用命令行模式进入项目根目录，执行pipenv install命令创建虚拟环境并自动安装依赖

7、运行Pipenv shell命令激活虚拟环境，运行flask init初始化并生成一个默认的管理员账号（手机号88888888888，密码123456）

8、在项目根目录，虚拟环境中，运行 gunicorn -w 4 -b 0.0.0.0:80 命令，即可启动应用。

9、0.0.0.0代表你的本机ip地址。要让在局域网中的其他机器访问leaf，你需要知道本机的真正ip。根据你的操作系统，百度“查看本机ip地址”即可。
举例而言，加入你的本机ip地址是 192.168.101.1， 那么其他机器只要在浏览器输入192.168.101.1即可访问leaf了。

10、因为时间有限，本指南不涉及Nginx的配置和使用，如果有此需要，辛苦你咨询身边的专业程序员或上网查找详细教程。

注：理论上leaf可以兼容手机浏览器访问和使用，但未经严格测试，如果你发现任何移动端的Bug，请跟我反馈。谢谢。

2019年4月21日
冷轲
我的个人微信号:thinkwild 欢迎技术交流
